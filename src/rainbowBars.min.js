/*
    Rainbow Bars plugin v2.0.0
    Meander Studio (c) 2013
    www.meander-studio.ru
	Thanks to http://krazydad.com/tutorials/makecolors.php
*/

var RB={};RB.Init=function(e,t){RB.ms=70;RB.error=null;var n=document.createElement("canvas");n.style.backgroundColor=typeof t==="undefined"?"#000":t;document.getElementById(e).appendChild(n);try{RB.c=n.getContext("2d")}catch(r){RB.error=r;n.width=RB.w;n.height=RB.h;n.style.color="#fff";n.innerHTML="Your browser is "+navigator.appName+". Deal with it.";return}RB.w=n.parentNode.offsetWidth;RB.h=n.parentNode.offsetHeight;n.width=RB.w;n.height=RB.h;RB.animatingStripesCount=10;RB.opacityStep=.02;RB.intervalId=0;RB.stripes=[];var i=RB.w;var s=10;var o=128;var u=128;var a=RB.w/2;var f=Math.PI*2/a;while(i>0){var l=RB.stripes.length;var c=Math.round(Math.sin(f*l+2+s)*u+o);var h=Math.round(Math.sin(f*l+0+s)*u+o);var p=Math.round(Math.sin(f*l+4+s)*u+o);var d="rgb("+c+","+h+","+p+")";var v=Math.random();var m=Math.random();var g=i>0&&i<4?i:RB.GetRandomInt(1,3);i-=g;RB.stripes.push([g,d,false,v,m])}for(l=0;l<RB.animatingStripesCount;l++){RB.stripes[RB.GetRandomInt(0,RB.stripes.length-1)][2]=true}};RB.Draw=function(){if(RB.error!=null){return}var e=0;RB.c.clearRect(0,0,RB.w,RB.h);for(var t=0;t<RB.stripes.length;t++){var n=RB.stripes[t];if(n[2]){if(Math.abs(n[3]-n[4])<RB.opacityStep){var r=RB.GetRandomInt(0,RB.stripes.length-1);while(RB.stripes[r][2]){r=RB.GetRandomInt(0,RB.stripes.length-1)}RB.stripes[r][2]=true;n[2]=false;n[4]=Math.random();RB.stripes[t]=n}else{n[3]-n[4]<0?n[3]+=RB.opacityStep:n[3]-=RB.opacityStep;RB.stripes[t]=n}}RB.c.globalAlpha=n[3];RB.c.fillStyle=n[1];RB.c.fillRect(e,0,n[0],RB.h);e+=n[0]}};RB.Start=function(){RB.intervalId=setInterval(RB.Draw,RB.ms)};RB.Stop=function(){clearInterval(RB.intervalId)};RB.GetRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e}